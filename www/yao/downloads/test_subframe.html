<style>
* {
  font-size: 100%;
  margin-top: 0px;
  margin-bottom: 0px;
}
h4 {
  margin-top: 10px;
}
button {
  margin-top: 5px;
}
</style>

<body></body>
<script src="test_actions.js"></script>
<script>
// https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript
let g_url_params;
(window.onpopstate = function () {
    let match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

    g_url_params = {};
    while (match = search.exec(query))
       g_url_params[decode(match[1])] = decode(match[2]);
})();

if (g_url_params["delay_activation"] != undefined) {
  g_delay_activation = true;
}

if (g_url_params["target_url"] != undefined) {
  g_target_url = g_url_params["target_url"];
}

let header = document.createElement("h4");
header.innerHTML = "url: ";
header.style.display = "inline";
document.body.appendChild(header);

let p = document.createElement("p");
p.innerHTML = window.location.href;
p.style.display = "inline";
document.body.appendChild(p);

document.body.appendChild(ResetTestActions());
</script>
