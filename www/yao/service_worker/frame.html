<h1>Test service worker</h1>
<button onclick="FetchTest1()">FetchTest1()</button>
<button onclick="FetchTest2()">FetchTest2()</button>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('https://cr.kungfoo.net/yao/service_worker/sw.js').then(function(registration) {
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}

function FetchTest1() {
  fetch("/yao/service_worker/test1.html").then(response => {
    console.log("Response:", response);
  }).catch(err => {
    console.error("Error while fetching:", err);
  });
}

function FetchTest2() {
  fetch("/yao/service_worker/test2.html").then(response => {
    console.log("Response:", response);
  }).catch(err => {
    console.error("Error while fetching:", err);
  });
}

</script>
