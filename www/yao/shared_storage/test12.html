<body>
<script>
window.sharedStorage.worklet.addModule("test10.js");

function selectURL() {
  window.sharedStorage.selectURL("test-operation", ["https://www.google.com/", "https://cr.kungfoo.net/yao/shared_storage/iframe2.html"], {data: {'name': 'experimentA'}}).then((opaque_url) => {
    console.log(opaque_url);
    document.getElementById("frame1").src = opaque_url;
    document.getElementById("iframe1").src = 'https://cr.kungfoo.net/yao/shared_storage/iframe2.html';
  });
}

function selectURL2() {
  window.sharedStorage.selectURL("test-operation", ["https://www.google.com/", "https://cr.kungfoo.net/yao/shared_storage/iframe2.html#2"], {data: {'name': 'experimentA'}}).then((opaque_url) => {
    console.log(opaque_url);
    document.getElementById("frame1").src = opaque_url;
    document.getElementById("iframe1").src = 'https://cr.kungfoo.net/yao/shared_storage/iframe2.html#2';
  });
}

function selectURL3() {
  window.sharedStorage.selectURL("test-operation", ["https://www.google.com/", "https://cr.kungfoo.net/yao/shared_storage/iframe2.html#3"], {data: {'name': 'experimentA'}}).then((opaque_url) => {
    console.log(opaque_url);
    document.getElementById("frame1").src = opaque_url;
    document.getElementById("iframe1").src = 'https://cr.kungfoo.net/yao/shared_storage/iframe2.html#3';
  });
}
  
</script>
<button onclick="selectURL()">selectURL and navigate fencedframe</button>
<br>
<button onclick="selectURL()">selectURL and navigate fencedframe#2</button>
<br>
<button onclick="selectURL()">selectURL and navigate fencedframe#3</button>
<br>
<fencedframe id="frame1" mode="opaque-ads" style="width: 100%"></fencedframe>
<iframe id="iframe1" style="width: 100%"></iframe>
<br>
</body>
